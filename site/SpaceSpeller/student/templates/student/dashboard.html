 {% load staticfiles %}
 
 <!DOCTYPE html> 
 <html> 
 <head> 
	<meta charset="utf-8">

	<script src="{% static 'student/js/jquery-1.12.0.min.js' %}"></script>
	<script src="{% static 'student/js/jquery-ui-1.11.4.min.js' %}"></script>
	<title>Space Spellers - Student Dashboard</title>	
	<link href="https://code.jquery.com/ui/1.11.4/themes/black-tie/jquery-ui.css" rel="stylesheet" type="text/css"/>
	
	<script type="text/javascript">
		var score_list = {{ score|safe }}; // All scores
	</script>
	
	<script>
		$(function() {
			$( "#dialog" ).dialog({
			  autoOpen: false,
			  show: {
				effect: "blind",
				duration: 1000
			  }
			});
 
			$( "#opener" ).click(function() {
			  $( "#dialog" ).dialog( "open" );
			});
		});
	</script>
 
<style type="text/css"> 
 	.outer { 
		margin: 0 auto;
		width: 1200px;
 	} 
 	.inner {
 	 	margin: 0 auto;
 	 	width: 1175px;
 	}
 	.button1 {
 	 	margin:0 auto;
 	 	width:275px;
 	}
 	.button2 {
 	 	margin:0 auto;
 	 	width:110px;
 	}
 	
 	.button3 {
 		margin:0 auto;
 		width: 1170px;
 	}
	.classname {
		z-index:3;
		-moz-box-shadow:inset 0px 1px 0px 0px #fce2c1;
		-webkit-box-shadow:inset 0px 1px 0px 0px #fce2c1;
		box-shadow:inset 0px 1px 0px 0px #fce2c1;
		background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #ffffff), color-stop(1, #5c5a57) );
		background:-moz-linear-gradient( center top, #ffffff 5%, #5c5a57 100% );
		filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#5c5a57');
		background-color:#ffffff;
		-webkit-border-top-left-radius:20px;
		-moz-border-radius-topleft:20px;
		border-top-left-radius:20px;
		-webkit-border-top-right-radius:20px;
		-moz-border-radius-topright:20px;
		border-top-right-radius:20px;
		-webkit-border-bottom-right-radius:20px;
		-moz-border-radius-bottomright:20px;
		border-bottom-right-radius:20px;
		-webkit-border-bottom-left-radius:20px;
		-moz-border-radius-bottomleft:20px;
		border-bottom-left-radius:20px;
		text-indent:0;
		border:1px solid #ffffff;
		display:inline-block;
		color:#1d34cc;
		font-family:Arial Black;
		font-size:45px;
		font-weight:bold;
		font-style:italic;
		height:90px;
		line-height:90px;
		width:275px;
		text-decoration:none;
		text-align:center;
		text-shadow:1px 1px 0px #cc9f52;
	}
	.classname:hover {
		background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #5c5a57), color-stop(1, #ffffff) );
		background:-moz-linear-gradient( center top, #5c5a57 5%, #ffffff 100% );
		filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#5c5a57', endColorstr='#ffffff');
		background-color:#5c5a57;
	}
	.classname:active {
		position:relative;
		top:1px;
	}
	.classname2 {
		z-index:3;
		-moz-box-shadow:inset 0px 1px 0px 0px #fce2c1;
		-webkit-box-shadow:inset 0px 1px 0px 0px #fce2c1;
		box-shadow:inset 0px 1px 0px 0px #fce2c1;
		background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #ffffff), color-stop(1, #5c5a57) );
		background:-moz-linear-gradient( center top, #ffffff 5%, #5c5a57 100% );
		filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#5c5a57');
		background-color:#ffffff;
		-webkit-border-top-left-radius:20px;
		-moz-border-radius-topleft:20px;
		border-top-left-radius:20px;
		-webkit-border-top-right-radius:20px;
		-moz-border-radius-topright:20px;
		border-top-right-radius:20px;
		-webkit-border-bottom-right-radius:20px;
		-moz-border-radius-bottomright:20px;
		border-bottom-right-radius:20px;
		-webkit-border-bottom-left-radius:20px;
		-moz-border-radius-bottomleft:20px;
		border-bottom-left-radius:20px;
		text-indent:0;
		border:1px solid #ffffff;
		display:inline-block;
		color:#1d34cc;
		font-family:Arial Black;
		font-size:23px;
		font-weight:bold;
		font-style:italic;
		height:60px;
		line-height:55px;
		width:110px;
		text-decoration:none;
		text-align:center;
		text-shadow:1px 1px 0px #cc9f52;
	}
	.classname2:hover {
		background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #5c5a57), color-stop(1, #ffffff) );
		background:-moz-linear-gradient( center top, #5c5a57 5%, #ffffff 100% );
		filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#5c5a57', endColorstr='#ffffff');
		background-color:#5c5a57;
	}
	.classname2:active {
		position:relative;
		top:1px;
	}
	.classname3 {
		z-index:3;
		-moz-box-shadow:inset 0px 1px 0px 0px #fce2c1;
		-webkit-box-shadow:inset 0px 1px 0px 0px #fce2c1;
		box-shadow:inset 0px 1px 0px 0px #fce2c1;
		background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #ffffff), color-stop(1, #5c5a57) );
		background:-moz-linear-gradient( center top, #ffffff 5%, #5c5a57 100% );
		filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#5c5a57');
		background-color:#ffffff;
		-webkit-border-top-left-radius:20px;
		-moz-border-radius-topleft:20px;
		border-top-left-radius:20px;
		-webkit-border-top-right-radius:20px;
		-moz-border-radius-topright:20px;
		border-top-right-radius:20px;
		-webkit-border-bottom-right-radius:20px;
		-moz-border-radius-bottomright:20px;
		border-bottom-right-radius:20px;
		-webkit-border-bottom-left-radius:20px;
		-moz-border-radius-bottomleft:20px;
		border-bottom-left-radius:20px;
		text-indent:0;
		border:1px solid #ffffff;
		display:inline-block;
		color:#1d34cc;
		font-family:Arial Black;
		font-size:15px;
		font-weight:bold;
		font-style:italic;
		height:30px;
		line-height:25px;
		width:90px;
		text-decoration:none;
		text-align:center;
		text-shadow:1px 1px 0px #cc9f52;
	}
	.classname3:hover {
		background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #5c5a57), color-stop(1, #ffffff) );
		background:-moz-linear-gradient( center top, #5c5a57 5%, #ffffff 100% );
		filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#5c5a57', endColorstr='#ffffff');
		background-color:#5c5a57;
	}
	.classname3:active {
		position:relative;
		top:1px;
	}
 </style> 
 </head>
 <body style="background-color:black;"> 
 	<div class="outer"> 
 		<img src="{% static 'student/images/cockpit.png' %}" alt="cockpit" style="border-right:10px solid black; position:absolute; z-index:2"> 
 		<div class="inner">
 		 	<img src="{% static 'student/images/background.gif' %}" alt="stars" style="top:20px; width:1175px; position:absolute; z-index:1">
 		 	<div class ="button1">
 		 		<a href="/game/" class="classname" style="top:434px; position:absolute">PLAY</a>
 		 	</div>
 		 	<div id="scoreDialog" title="Scores">
 		 		<table style="border-collapse: collapse" id="scoreTable">
					<tr>
						<th>Date</th>
						<th width="200">Score</th>
					</tr>
				</table>
			</div>
			
			<script type="text/javascript">
				/* Populate list of all students for <select id="choices"> tag */
				var tr;
							
				for (var i = 0; i < score_list.length; i++) {
					tr = $("<tr/>");
					tr.append("<td align=\"center\">" + score_list[i][0] + "</td>");
					tr.append("<td align=\"center\">" + score_list[i][1] + "</td>");
					$('#scoreTable').append(tr);
				}
					
				/* ~~~~ DONE ~~~~ */
				
				/* 
				 * Set up a modal window dialog of #scoreDialog
				 * Dialog opens when remove a student
				 */
				$('#scoreDialog').dialog({
					autoOpen: false,
					modal: true,
					width: 600,
					resizable: false,
					buttons: [ // Buttons on the modal window
						{
							// Cancel button = close window
							text: "Cancel",
							"class": 'cancelButtonClass',
							click: function() {
								$("#scoreDialog").dialog("close");
							}
						}
					],
					close: function() { // Close the dialog on X
						$("#scoreDialog").dialog("close");
					}
				});
				
				// When #score_btn is clicked, show the #scoreDialog dialog
				$(document).on("click", "#score_btn", function() {
					$("#scoreDialog").dialog("open");
				});
				
			</script>
		</div>
		
 		<div class ="button2">
			<button id="score_btn" class="classname2" style="top:78px; position:absolute">Scores</button>
 		</div>
 		
 		<div class ="button3">
 			<button id="logout_btn" class ="classname3" style="top:23px; position:absolute">Log Out</button>
 		</div>
 	</div>

	<script>
		// Student logout function
		$('#logout_btn').click(function() {    
			$.ajax({
				type: "post",
				url: "/student/logout/",
				data: {
					csrfmiddlewaretoken: '{{ csrf_token }}',
					click: false
				},
				success: function (response) {        
					console.log("logged out");
					window.location.href = response;	
				}
			});
		});
	</script>
 </body> 
 </html>